{"ast":null,"code":"var _jsxFileName = \"/Users/shah/Desktop/chessGame/frontend/src/components/ChessBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './ChessBoard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialBoardSetup = [['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'], ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'], ['', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', ''], ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'], ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']];\nconst pieceMap = {\n  'P': '♙',\n  'R': '♖',\n  'N': '♘',\n  'B': '♗',\n  'Q': '♕',\n  'K': '♔',\n  'p': '♟',\n  'r': '♜',\n  'n': '♞',\n  'b': '♝',\n  'q': '♛',\n  'k': '♚'\n};\nconst ChessBoard = () => {\n  _s();\n  const [board, setBoard] = useState(initialBoardSetup);\n  const [selectedPiece, setSelectedPiece] = useState(null);\n  const [turn, setTurn] = useState('white'); // Track whose turn it is\n  const [highlightedMoves, setHighlightedMoves] = useState([]);\n  const [enPassant, setEnPassant] = useState(null); // Track en passant opportunities\n\n  const isValidMove = (piece, startRow, startCol, endRow, endCol) => {\n    const dx = Math.abs(endCol - startCol);\n    const dy = endRow - startRow;\n    if (board[endRow][endCol] && (piece.toUpperCase() === piece && board[endRow][endCol].toUpperCase() === board[endRow][endCol] || piece.toLowerCase() === piece && board[endRow][endCol].toLowerCase() === board[endRow][endCol])) {\n      return false; // Cannot move to a square occupied by the same color piece\n    }\n    switch (piece.toLowerCase()) {\n      case 'p':\n        // Pawn\n        if (piece === 'P') {\n          // White pawn\n          if (startRow === 6 && endRow === 4 && dx === 0 && board[endRow][endCol] === '' && board[endRow + 1][endCol] === '') {\n            // First move two squares\n            return true;\n          }\n          if (startRow === 3 && endRow === 2 && Math.abs(startCol - endCol) === 1 && board[endRow][endCol] === '' && enPassant && enPassant.row === endRow && enPassant.col === endCol) {\n            // En passant\n            return true;\n          }\n          return dy === -1 && dx === 0 && board[endRow][endCol] === '' ||\n          // Move forward\n          dy === -1 && dx === 1 && board[endRow][endCol] !== ''; // Capture\n        } else {\n          // Black pawn\n          if (startRow === 1 && endRow === 3 && dx === 0 && board[endRow][endCol] === '' && board[endRow - 1][endCol] === '') {\n            // First move two squares\n            return true;\n          }\n          if (startRow === 4 && endRow === 5 && Math.abs(startCol - endCol) === 1 && board[endRow][endCol] === '' && enPassant && enPassant.row === endRow && enPassant.col === endCol) {\n            // En passant\n            return true;\n          }\n          return dy === 1 && dx === 0 && board[endRow][endCol] === '' ||\n          // Move forward\n          dy === 1 && dx === 1 && board[endRow][endCol] !== ''; // Capture\n        }\n      case 'r':\n        // Rook\n        return (dx === 0 || Math.abs(dy) === 0) && !isPathBlocked(startRow, startCol, endRow, endCol);\n      case 'n':\n        // Knight\n        return dx * Math.abs(dy) === 2;\n      case 'b':\n        // Bishop\n        return dx === Math.abs(dy) && !isPathBlocked(startRow, startCol, endRow, endCol);\n      case 'q':\n        // Queen\n        return (dx === 0 || Math.abs(dy) === 0 || dx === Math.abs(dy)) && !isPathBlocked(startRow, startCol, endRow, endCol);\n      case 'k':\n        // King\n        return dx <= 1 && Math.abs(dy) <= 1;\n      default:\n        return false;\n    }\n  };\n  const handleSquareClick = (row, col) => {\n    if (selectedPiece) {\n      const {\n        piece,\n        startRow,\n        startCol\n      } = selectedPiece;\n      if (isValidMove(piece, startRow, startCol, row, col)) {\n        const newBoard = board.map(r => r.slice());\n        newBoard[startRow][startCol] = '';\n        newBoard[row][col] = piece;\n\n        // Handle en passant capture\n        if (piece.toLowerCase() === 'p' && enPassant && enPassant.row === row && enPassant.col === col) {\n          newBoard[startRow][col] = '';\n        }\n\n        // Set en passant opportunities\n        if (piece.toLowerCase() === 'p' && Math.abs(startRow - row) === 2) {\n          setEnPassant({\n            row: (startRow + row) / 2,\n            col\n          });\n        } else {\n          setEnPassant(null);\n        }\n        setBoard(newBoard);\n        setTurn(turn === 'white' ? 'black' : 'white'); // Change turn\n      }\n      setSelectedPiece(null);\n      setHighlightedMoves([]);\n    } else if (board[row][col] && (turn === 'white' && board[row][col].toUpperCase() === board[row][col] || turn === 'black' && board[row][col].toLowerCase() === board[row][col])) {\n      setSelectedPiece({\n        piece: board[row][col],\n        startRow: row,\n        startCol: col\n      });\n      setHighlightedMoves(getPossibleMoves(board[row][col], row, col));\n    }\n  };\n  const isPathBlocked = (startRow, startCol, endRow, endCol) => {\n    const dx = endCol > startCol ? 1 : endCol < startCol ? -1 : 0;\n    const dy = endRow > startRow ? 1 : endRow < startRow ? -1 : 0;\n    let x = startCol + dx;\n    let y = startRow + dy;\n    while (x !== endCol || y !== endRow) {\n      if (board[y][x] !== '') return true;\n      x += dx;\n      y += dy;\n    }\n    return false;\n  };\n  const getPossibleMoves = (piece, startRow, startCol) => {\n    const moves = [];\n    for (let row = 0; row < 8; row++) {\n      for (let col = 0; col < 8; col++) {\n        if (isValidMove(piece, startRow, startCol, row, col)) {\n          moves.push({\n            row,\n            col\n          });\n        }\n      }\n    }\n    return moves;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [turn === 'white' ? 'White' : 'Black', \"'s Turn\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chessboard\",\n      children: board.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: row.map((piece, colIndex) => {\n          const isHighlighted = highlightedMoves.some(move => move.row === rowIndex && move.col === colIndex);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `square ${(rowIndex + colIndex) % 2 === 0 ? 'white' : 'black'} ${isHighlighted ? 'highlighted' : ''}`,\n            onClick: () => handleSquareClick(rowIndex, colIndex),\n            children: piece && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `piece ${piece.toUpperCase() === piece ? 'white-piece' : 'black-piece'}`,\n              children: pieceMap[piece]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this)\n          }, colIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this);\n        })\n      }, rowIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(ChessBoard, \"YXMbCqtn4G25UJTEAeLs5rdmqHc=\");\n_c = ChessBoard;\nexport default ChessBoard;\nvar _c;\n$RefreshReg$(_c, \"ChessBoard\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","initialBoardSetup","pieceMap","ChessBoard","_s","board","setBoard","selectedPiece","setSelectedPiece","turn","setTurn","highlightedMoves","setHighlightedMoves","enPassant","setEnPassant","isValidMove","piece","startRow","startCol","endRow","endCol","dx","Math","abs","dy","toUpperCase","toLowerCase","row","col","isPathBlocked","handleSquareClick","newBoard","map","r","slice","getPossibleMoves","x","y","moves","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","rowIndex","colIndex","isHighlighted","some","move","onClick","_c","$RefreshReg$"],"sources":["/Users/shah/Desktop/chessGame/frontend/src/components/ChessBoard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './ChessBoard.css';\n\nconst initialBoardSetup = [\n  ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],\n  ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],\n  ['', '', '', '', '', '', '', ''],\n  ['', '', '', '', '', '', '', ''],\n  ['', '', '', '', '', '', '', ''],\n  ['', '', '', '', '', '', '', ''],\n  ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],\n  ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']\n];\n\nconst pieceMap = {\n  'P': '♙', 'R': '♖', 'N': '♘', 'B': '♗', 'Q': '♕', 'K': '♔',\n  'p': '♟', 'r': '♜', 'n': '♞', 'b': '♝', 'q': '♛', 'k': '♚'\n};\n\nconst ChessBoard = () => {\n  const [board, setBoard] = useState(initialBoardSetup);\n  const [selectedPiece, setSelectedPiece] = useState(null);\n  const [turn, setTurn] = useState('white'); // Track whose turn it is\n  const [highlightedMoves, setHighlightedMoves] = useState([]);\n  const [enPassant, setEnPassant] = useState(null); // Track en passant opportunities\n\n  const isValidMove = (piece, startRow, startCol, endRow, endCol) => {\n    const dx = Math.abs(endCol - startCol);\n    const dy = endRow - startRow;\n  \n    if (board[endRow][endCol] && ((piece.toUpperCase() === piece && board[endRow][endCol].toUpperCase() === board[endRow][endCol]) || \n                                  (piece.toLowerCase() === piece && board[endRow][endCol].toLowerCase() === board[endRow][endCol]))) {\n      return false; // Cannot move to a square occupied by the same color piece\n    }\n  \n    switch (piece.toLowerCase()) {\n      case 'p': // Pawn\n        if (piece === 'P') { // White pawn\n          if (startRow === 6 && endRow === 4 && dx === 0 && board[endRow][endCol] === '' && board[endRow + 1][endCol] === '') { // First move two squares\n            return true;\n          }\n          if (startRow === 3 && endRow === 2 && Math.abs(startCol - endCol) === 1 && board[endRow][endCol] === '' && enPassant && enPassant.row === endRow && enPassant.col === endCol) { // En passant\n            return true;\n          }\n          return (dy === -1 && dx === 0 && board[endRow][endCol] === '') || // Move forward\n                 (dy === -1 && dx === 1 && board[endRow][endCol] !== ''); // Capture\n        } else { // Black pawn\n          if (startRow === 1 && endRow === 3 && dx === 0 && board[endRow][endCol] === '' && board[endRow - 1][endCol] === '') { // First move two squares\n            return true;\n          }\n          if (startRow === 4 && endRow === 5 && Math.abs(startCol - endCol) === 1 && board[endRow][endCol] === '' && enPassant && enPassant.row === endRow && enPassant.col === endCol) { // En passant\n            return true;\n          }\n          return (dy === 1 && dx === 0 && board[endRow][endCol] === '') || // Move forward\n                 (dy === 1 && dx === 1 && board[endRow][endCol] !== ''); // Capture\n        }\n      case 'r': // Rook\n        return (dx === 0 || Math.abs(dy) === 0) && !isPathBlocked(startRow, startCol, endRow, endCol);\n      case 'n': // Knight\n        return dx * Math.abs(dy) === 2;\n      case 'b': // Bishop\n        return dx === Math.abs(dy) && !isPathBlocked(startRow, startCol, endRow, endCol);\n      case 'q': // Queen\n        return (dx === 0 || Math.abs(dy) === 0 || dx === Math.abs(dy)) && !isPathBlocked(startRow, startCol, endRow, endCol);\n      case 'k': // King\n        return dx <= 1 && Math.abs(dy) <= 1;\n      default:\n        return false;\n    }\n  };\n  \n  const handleSquareClick = (row, col) => {\n    if (selectedPiece) {\n      const { piece, startRow, startCol } = selectedPiece;\n      if (isValidMove(piece, startRow, startCol, row, col)) {\n        const newBoard = board.map((r) => r.slice());\n        newBoard[startRow][startCol] = '';\n        newBoard[row][col] = piece;\n  \n        // Handle en passant capture\n        if (piece.toLowerCase() === 'p' && enPassant && enPassant.row === row && enPassant.col === col) {\n          newBoard[startRow][col] = '';\n        }\n  \n        // Set en passant opportunities\n        if (piece.toLowerCase() === 'p' && Math.abs(startRow - row) === 2) {\n          setEnPassant({ row: (startRow + row) / 2, col });\n        } else {\n          setEnPassant(null);\n        }\n  \n        setBoard(newBoard);\n        setTurn(turn === 'white' ? 'black' : 'white'); // Change turn\n      }\n      setSelectedPiece(null);\n      setHighlightedMoves([]);\n    } else if (board[row][col] && ((turn === 'white' && board[row][col].toUpperCase() === board[row][col]) || (turn === 'black' && board[row][col].toLowerCase() === board[row][col]))) {\n      setSelectedPiece({ piece: board[row][col], startRow: row, startCol: col });\n      setHighlightedMoves(getPossibleMoves(board[row][col], row, col));\n    }\n  };\n\n\n  const isPathBlocked = (startRow, startCol, endRow, endCol) => {\n    const dx = endCol > startCol ? 1 : endCol < startCol ? -1 : 0;\n    const dy = endRow > startRow ? 1 : endRow < startRow ? -1 : 0;\n    let x = startCol + dx;\n    let y = startRow + dy;\n\n    while (x !== endCol || y !== endRow) {\n      if (board[y][x] !== '') return true;\n      x += dx;\n      y += dy;\n    }\n\n    return false;\n  };\n\n  const getPossibleMoves = (piece, startRow, startCol) => {\n    const moves = [];\n    for (let row = 0; row < 8; row++) {\n      for (let col = 0; col < 8; col++) {\n        if (isValidMove(piece, startRow, startCol, row, col)) {\n          moves.push({ row, col });\n        }\n      }\n    }\n    return moves;\n  };\n\n\n  return (\n    <div className=\"game-container\">\n      <h2>{turn === 'white' ? 'White' : 'Black'}'s Turn</h2>\n      <div className=\"chessboard\">\n        {board.map((row, rowIndex) => (\n          <div key={rowIndex} className=\"row\">\n            {row.map((piece, colIndex) => {\n              const isHighlighted = highlightedMoves.some(move => move.row === rowIndex && move.col === colIndex);\n              return (\n                <div\n                  key={colIndex}\n                  className={`square ${(rowIndex + colIndex) % 2 === 0 ? 'white' : 'black'} ${isHighlighted ? 'highlighted' : ''}`}\n                  onClick={() => handleSquareClick(rowIndex, colIndex)}\n                >\n                  {piece && <span className={`piece ${piece.toUpperCase() === piece ? 'white-piece' : 'black-piece'}`}>{pieceMap[piece]}</span>}\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ChessBoard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}