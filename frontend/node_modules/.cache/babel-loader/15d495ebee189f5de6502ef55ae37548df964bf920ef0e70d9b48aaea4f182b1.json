{"ast":null,"code":"var _jsxFileName = \"/Users/shah/Desktop/chessGame/frontend/src/components/ChessBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport Chessboard from 'chessboardjsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\nconst ChessBoard = ({\n  gameId,\n  userId\n}) => {\n  _s();\n  const [position, setPosition] = useState({\n    'r': ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],\n    'p': ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],\n    '-': ['-', '-', '-', '-', '-', '-', '-', '-'],\n    'P': ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],\n    'R': ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']\n  });\n  useEffect(() => {\n    socket.emit('join', {\n      gameId,\n      userId\n    });\n    socket.on('move', data => {\n      if (data.gameId === gameId) {\n        const newPosition = {\n          ...position\n        };\n        newPosition[data.end.y][data.end.x] = newPosition[data.start.y][data.start.x];\n        newPosition[data.start.y][data.start.x] = '-';\n        setPosition(newPosition);\n      }\n    });\n    return () => {\n      socket.off('move');\n    };\n  }, [gameId, userId, position]);\n  const onDrop = ({\n    sourceSquare,\n    targetSquare\n  }) => {\n    const [startX, startY] = [sourceSquare.charCodeAt(0) - 97, 8 - parseInt(sourceSquare[1])];\n    const [endX, endY] = [targetSquare.charCodeAt(0) - 97, 8 - parseInt(targetSquare[1])];\n    const move = {\n      start: {\n        x: startX,\n        y: startY\n      },\n      end: {\n        x: endX,\n        y: endY\n      }\n    };\n    socket.emit('move', {\n      gameId,\n      move,\n      userId\n    });\n    const newPosition = {\n      ...position\n    };\n    newPosition[endY][endX] = newPosition[startY][startX];\n    newPosition[startY][startX] = '-';\n    setPosition(newPosition);\n  };\n  return /*#__PURE__*/_jsxDEV(Chessboard, {\n    position: position,\n    onDrop: onDrop\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 12\n  }, this);\n};\n_s(ChessBoard, \"RbApQXfHPwnLyHhe5IyYgF9dQDs=\");\n_c = ChessBoard;\nexport default ChessBoard;\nvar _c;\n$RefreshReg$(_c, \"ChessBoard\");","map":{"version":3,"names":["React","useState","useEffect","io","Chessboard","jsxDEV","_jsxDEV","socket","ChessBoard","gameId","userId","_s","position","setPosition","emit","on","data","newPosition","end","y","x","start","off","onDrop","sourceSquare","targetSquare","startX","startY","charCodeAt","parseInt","endX","endY","move","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/shah/Desktop/chessGame/frontend/src/components/ChessBoard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport Chessboard from 'chessboardjsx';\n\nconst socket = io('http://localhost:5000');\n\nconst ChessBoard = ({ gameId, userId }) => {\n    const [position, setPosition] = useState({\n        'r': ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],\n        'p': ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],\n        '-': ['-', '-', '-', '-', '-', '-', '-', '-'],\n        'P': ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],\n        'R': ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']\n    });\n\n    useEffect(() => {\n        socket.emit('join', { gameId, userId });\n\n        socket.on('move', (data) => {\n            if (data.gameId === gameId) {\n                const newPosition = { ...position };\n                newPosition[data.end.y][data.end.x] = newPosition[data.start.y][data.start.x];\n                newPosition[data.start.y][data.start.x] = '-';\n                setPosition(newPosition);\n            }\n        });\n\n        return () => {\n            socket.off('move');\n        };\n    }, [gameId, userId, position]);\n\n    const onDrop = ({ sourceSquare, targetSquare }) => {\n        const [startX, startY] = [sourceSquare.charCodeAt(0) - 97, 8 - parseInt(sourceSquare[1])];\n        const [endX, endY] = [targetSquare.charCodeAt(0) - 97, 8 - parseInt(targetSquare[1])];\n\n        const move = { start: { x: startX, y: startY }, end: { x: endX, y: endY } };\n        socket.emit('move', { gameId, move, userId });\n\n        const newPosition = { ...position };\n        newPosition[endY][endX] = newPosition[startY][startX];\n        newPosition[startY][startX] = '-';\n        setPosition(newPosition);\n    };\n\n    return <Chessboard position={position} onDrop={onDrop} />;\n};\n\nexport default ChessBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}